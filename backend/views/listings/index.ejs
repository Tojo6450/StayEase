<% layout("/layouts/boilerplate") %>
<body>
  <div class="tax-toggle">
    <div class="form-check-reverse form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
      <label class="form-check-label" for="switchCheckDefault">Display after taxes</label>
    </div>
  </div>

  <div class="filters">
    <a class="filter-item" href="/listings"><span><i class="fa-solid fa-fire"></i></span>&nbsp;&nbsp;<span>All</span></a>
    <a href="/listings?category=room" class="filter-item"><span><i class="fa-solid fa-bed"></i></span>&nbsp;&nbsp;<span>Rooms</span></a>
    <a href="/listings?category=iconic city" class="filter-item"><span><i class="fa-solid fa-city"></i></span>&nbsp;&nbsp;<span>Iconic cities</span></a>
    <a href="/listings?category=mountain" class="filter-item"><span><i class="fa-solid fa-mountain-city"></i></span>&nbsp;&nbsp;<span>Mountain</span></a>
    <a href="/listings?category=beach" class="filter-item"><span><i class="fa-solid fa-water"></i></span>&nbsp;&nbsp;<span>Beach</span></a>
    <a href="/listings?category=castle" class="filter-item"><span><i class="fa-solid fa-fort-awesome"></i></span>&nbsp;&nbsp;<span>Castles</span></a>
    <a href="/listings?category=pool" class="filter-item"><span><i class="fa-solid fa-person-swimming"></i></span>&nbsp;&nbsp;<span>Amazing Pools</span></a>
    <a href="/listings?category=farm" class="filter-item"><span><i class="fa-solid fa-tractor"></i></span>&nbsp;&nbsp;<span>Farms</span></a>
    <a href="/listings?category=arctic" class="filter-item"><span><i class="fa-solid fa-snowflake"></i></span>&nbsp;&nbsp;<span>Arctic</span></a>
  </div>

  <div class="listings-container">
  <% for(let listing of allListings) { %>
    <div class="listing-card" data-id="<%= listing._id %>">
      <div class="image-container">
        <img src="<%= listing.image.url %>" alt="Listing Image" class="listing-image" />
        <button class="cart-icon-btn" data-id="<%= listing._id %>">
          <i class="bi bi-plus-lg"></i>
        </button>
      </div>
      <div class="listing-details">
        <h3><a href="/listings/<%= listing._id %>" class="listing-title"><%= listing.title %></a></h3>
        <p class="listing-location"><%= listing.location %>, <%= listing.country %></p>
        <p class="listing-price">$<%= listing.price %> / night &nbsp;&nbsp;<i class="tax-info">+18% GST</i></p>
      </div>
    </div>
  <% } %>
</div>

    <div id="cart-icon" class="cart-icon">
    <i class="bi bi-cart-fill"></i>
    <span id="cart-count">0</span>
  </div>

  <div id="cart-popup" class="cart-popup">
    <h5>Cart Items</h5>
    <ul id="cart-items"></ul>
  </div>
</body>

<script src="/js/cart.js"></script>
